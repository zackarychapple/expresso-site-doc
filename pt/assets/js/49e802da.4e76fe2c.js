"use strict";(self.webpackChunkclassic=self.webpackChunkclassic||[]).push([[430],{3905:(e,o,n)=>{n.d(o,{Zo:()=>d,kt:()=>v});var r=n(7294);function t(e,o,n){return o in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n,e}function a(e,o){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);o&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?a(Object(n),!0).forEach((function(o){t(e,o,n[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))}))}return e}function s(e,o){if(null==e)return{};var n,r,t=function(e,o){if(null==e)return{};var n,r,t={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],o.indexOf(n)>=0||(t[n]=e[n]);return t}(e,o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],o.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}var p=r.createContext({}),l=function(e){var o=r.useContext(p),n=o;return e&&(n="function"==typeof e?e(o):i(i({},o),e)),n},d=function(e){var o=l(e.components);return r.createElement(p.Provider,{value:o},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var o=e.children;return r.createElement(r.Fragment,{},o)}},m=r.forwardRef((function(e,o){var n=e.components,t=e.mdxType,a=e.originalType,p=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=l(n),m=t,v=u["".concat(p,".").concat(m)]||u[m]||c[m]||a;return n?r.createElement(v,i(i({ref:o},d),{},{components:n})):r.createElement(v,i({ref:o},d))}));function v(e,o){var n=arguments,t=o&&o.mdxType;if("string"==typeof e||t){var a=n.length,i=new Array(a);i[0]=m;var s={};for(var p in o)hasOwnProperty.call(o,p)&&(s[p]=o[p]);s.originalType=e,s[u]="string"==typeof e?e:t,i[1]=s;for(var l=2;l<a;l++)i[l]=n[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},8686:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>p,contentTitle:()=>i,default:()=>c,frontMatter:()=>a,metadata:()=>s,toc:()=>l});var r=n(7462),t=(n(7294),n(3905));const a={sidebar_position:4},i="M\xf3dulos",s={unversionedId:"overview/module",id:"overview/module",title:"M\xf3dulos",description:"Um m\xf3dulo de cont\xeainer \xe9 uma cole\xe7\xe3o de servi\xe7os, no nosso caso mais especificamente Controllers e suas depend\xeancias que podem ser registrados e resolvidos pelo cont\xeainer InversifyJS.",source:"@site/i18n/pt/docusaurus-plugin-content-docs/current/overview/module.md",sourceDirName:"overview",slug:"/overview/module",permalink:"/pt/docs/overview/module",draft:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"App Container",permalink:"/pt/docs/overview/app-container"},next:{title:"Controladores",permalink:"/pt/docs/overview/controller"}},p={},l=[{value:"Module or container module",id:"module-or-container-module",level:2},{value:"Container do m\xf3dulo",id:"container-do-m\xf3dulo",level:2},{value:"Escopo do m\xf3dulo",id:"escopo-do-m\xf3dulo",level:2},{value:"Apoie o projeto",id:"apoie-o-projeto",level:2}],d={toc:l},u="wrapper";function c(e){let{components:o,...n}=e;return(0,t.kt)(u,(0,r.Z)({},d,n,{components:o,mdxType:"MDXLayout"}),(0,t.kt)("h1",{id:"m\xf3dulos"},"M\xf3dulos"),(0,t.kt)("p",null,"Um m\xf3dulo de cont\xeainer \xe9 uma cole\xe7\xe3o de servi\xe7os, no nosso caso mais especificamente ",(0,t.kt)("inlineCode",{parentName:"p"},"Controllers")," e suas depend\xeancias que podem ser registrados e resolvidos pelo cont\xeainer InversifyJS."),(0,t.kt)("p",null,"Um m\xf3dulo de cont\xeainer \xe9 uma classe que exporta um objeto Module do inversify, que \xe9 essencialmente um objeto de configura\xe7\xe3o que define as liga\xe7\xf5es entre servi\xe7os (no ExpressoTS, servi\xe7os s\xe3o Controllers) e suas depend\xeancias. O objeto Module possui um m\xe9todo de liga\xe7\xe3o que permite definir liga\xe7\xf5es entre servi\xe7os e suas depend\xeancias."),(0,t.kt)("p",null,"Para entender completamente como voc\xea pode registrar suas classes, como casos de uso, entidades, provedores, reposit\xf3rios, auxiliares, etc., leia a se\xe7\xe3o ",(0,t.kt)("strong",{parentName:"p"},(0,t.kt)("a",{parentName:"strong",href:"/pt/docs/overview/di"},"Inje\xe7\xe3o de depend\xeancia")),". Essencialmente, temos um grupo de decoradores que substitui o escopo padr\xe3o do Container."),(0,t.kt)("h2",{id:"module-or-container-module"},"Module or container module"),(0,t.kt)("p",null,"Com o ExpressoTS, voc\xea n\xe3o precisa se preocupar em fazer liga\xe7\xf5es manualmente, criamos uma fun\xe7\xe3o auxiliar chamada ",(0,t.kt)("inlineCode",{parentName:"p"},"CreateModule")," que recebe um array de controladores e retorna um m\xf3dulo com todos os controladores registrados e suas depend\xeancias injetadas."),(0,t.kt)("h2",{id:"container-do-m\xf3dulo"},"Container do m\xf3dulo"),(0,t.kt)("p",null,"Um m\xf3dulo de cont\xeainer \xe9 tipicamente usado para agrupar controladores relacionados e suas depend\xeancias, tornando mais f\xe1cil registr\xe1-los e gerenci\xe1-los no cont\xeainer. Por exemplo, voc\xea pode criar um m\xf3dulo de cont\xeainer que define os bindings para um conjunto de controladores de acesso a dados, ou um conjunto de servi\xe7os de l\xf3gica de neg\xf3cios."),(0,t.kt)("p",null,"Uma vez que um m\xf3dulo de cont\xeainer tenha sido definido, ele pode ser carregado no ",(0,t.kt)("inlineCode",{parentName:"p"},"AppContainer")," usando o m\xe9todo ",(0,t.kt)("inlineCode",{parentName:"p"},"appContainer.create()"),", que recebe a classe do m\xf3dulo de cont\xeainer como argumento. Consulte a se\xe7\xe3o ",(0,t.kt)("strong",{parentName:"p"},(0,t.kt)("a",{parentName:"strong",href:"/pt/docs/overview/app-container"},"Cont\xeainer do aplicativo"))," para obter mais informa\xe7\xf5es. Isso registrar\xe1 todos os servi\xe7os e depend\xeancias definidos no m\xf3dulo no cont\xeainer, tornando-os dispon\xedveis para inje\xe7\xe3o em outras partes da sua aplica\xe7\xe3o."),(0,t.kt)("p",null,"M\xf3dulos de cont\xeainer podem ser uma ferramenta poderosa para gerenciar grandes aplica\xe7\xf5es com gr\xe1ficos de depend\xeancia complexos, pois permitem que voc\xea organize seu c\xf3digo em partes menores e mais gerenci\xe1veis e tornem mais f\xe1cil o entendimento das rela\xe7\xf5es entre diferentes partes da aplica\xe7\xe3o."),(0,t.kt)("p",null,"Um m\xf3dulo de cont\xeainer, ou simplesmente um m\xf3dulo ExpressoTS, \xe9 definido no exemplo abaixo:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-typescript"},"const AppModule = CreateModule([\n    AppController,\n]);\n\nexport { AppModule };\n")),(0,t.kt)("h2",{id:"escopo-do-m\xf3dulo"},"Escopo do m\xf3dulo"),(0,t.kt)("p",null,"Muito semelhante ao ",(0,t.kt)("inlineCode",{parentName:"p"},"Container"),", os desenvolvedores podem definir o escopo de um m\xf3dulo usando a mesma enumera\xe7\xe3o ",(0,t.kt)("inlineCode",{parentName:"p"},"BindingScopeEnum"),". Aqui est\xe3o os valores de enumera\xe7\xe3o:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"BindingScopeEnum.Singleton")," - A depend\xeancia ser\xe1 criada uma vez e ser\xe1 compartilhada entre todas as solicita\xe7\xf5es."),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"BindingScopeEnum.Request")," - A depend\xeancia ser\xe1 criada uma vez por solicita\xe7\xe3o."),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"BindingScopeEnum.Transient")," - A depend\xeancia ser\xe1 criada toda vez que for solicitada.")),(0,t.kt)("p",null,"Ao criar um m\xf3dulo, voc\xea pode passar o escopo como um segundo argumento para a fun\xe7\xe3o ",(0,t.kt)("inlineCode",{parentName:"p"},"CreateModule"),". \xc9 opcional e, se n\xe3o for fornecido, o escopo padr\xe3o \xe9 obtido do ",(0,t.kt)("inlineCode",{parentName:"p"},"AppContainer"),", que \xe9 ",(0,t.kt)("inlineCode",{parentName:"p"},"RequestScope"),"."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-typescript"},"const AppModule = CreateModule(\n    [\n        AppController,\n    ],\n    BindingScopeEnum.Singleton,\n);\n")),(0,t.kt)("p",null,"Este \xe9 um recurso muito \xfatil, pois permite que os desenvolvedores criem m\xf3dulos com diferentes escopos. Por exemplo, voc\xea pode criar um m\xf3dulo com o escopo ",(0,t.kt)("inlineCode",{parentName:"p"},"Singleton")," e outro m\xf3dulo com o escopo ",(0,t.kt)("inlineCode",{parentName:"p"},"Request"),". Isso \xe9 muito \xfatil quando voc\xea tem um m\xf3dulo que cont\xe9m servi\xe7os que precisam ser compartilhados entre todas as solicita\xe7\xf5es e outro m\xf3dulo que cont\xe9m servi\xe7os que precisam ser criados uma vez por solicita\xe7\xe3o."),(0,t.kt)("p",null,"A preced\xeancia do escopo \xe9 definida da seguinte forma: escopo ",(0,t.kt)("inlineCode",{parentName:"p"},"AppContainer")," > escopo ",(0,t.kt)("inlineCode",{parentName:"p"},"Module")," > escopo ",(0,t.kt)("inlineCode",{parentName:"p"},"Controller"),"."),(0,t.kt)("hr",null),(0,t.kt)("h2",{id:"apoie-o-projeto"},"Apoie o projeto"),(0,t.kt)("p",null,"ExpressoTS \xe9 um projeto de c\xf3digo aberto licenciado sob o MIT. \xc9 um projeto independente com desenvolvimento cont\xednuo possibilitado gra\xe7as ao seu suporte. Se voc\xea deseja ajudar, por favor considere:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"Se tornar um ",(0,t.kt)("strong",{parentName:"li"},(0,t.kt)("a",{parentName:"strong",href:"https://github.com/sponsors/expressots"},"Sponsor no GitHub"))),(0,t.kt)("li",{parentName:"ul"},"Siga a ",(0,t.kt)("strong",{parentName:"li"},(0,t.kt)("a",{parentName:"strong",href:"https://github.com/expressots"},"organiza\xe7\xe3o"))," no GitHub e de um Star \u2b50 no projeto"),(0,t.kt)("li",{parentName:"ul"},"Subscreva no nosso canal na Twitch: ",(0,t.kt)("strong",{parentName:"li"},(0,t.kt)("a",{parentName:"strong",href:"https://www.twitch.tv/richardzampieri"},"Richard Zampieri"))),(0,t.kt)("li",{parentName:"ul"},"Entre no nosso ",(0,t.kt)("strong",{parentName:"li"},(0,t.kt)("a",{parentName:"strong",href:"https://discord.com/invite/PyPJfGK"},"Discord"))),(0,t.kt)("li",{parentName:"ul"},"Contribua submetendo ",(0,t.kt)("strong",{parentName:"li"},(0,t.kt)("a",{parentName:"strong",href:"https://github.com/expressots/expressots/issues/new/choose"},"issues e pull requests"))),(0,t.kt)("li",{parentName:"ul"},"Compartilhe o projeto com seus amigos e colegas")))}c.isMDXComponent=!0}}]);