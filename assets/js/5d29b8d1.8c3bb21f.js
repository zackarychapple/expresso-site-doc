"use strict";(self.webpackChunkclassic=self.webpackChunkclassic||[]).push([[893],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=p(n),u=a,h=d["".concat(l,".").concat(u)]||d[u]||m[u]||i;return n?r.createElement(h,o(o({ref:t},c),{},{components:n})):r.createElement(h,o({ref:t},c))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:a,o[1]=s;for(var p=2;p<i;p++)o[p]=n[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},7881:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>m,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var r=n(7462),a=(n(7294),n(3905));const i={sidebar_position:7},o="Providers",s={unversionedId:"overview/providers",id:"overview/providers",title:"Providers",description:"From the perspective of the ExpressoTS Architecture, Providers are responsible for supplying data and/or mechanics to the application, abstracting the details of how the data/mechanic is actually implemented. This abstraction aligned with the Dependency Injection Container enables the developer to easily switch between different data sources/providers without affecting the other parts of the application as they are decoupled.",source:"@site/docs/overview/providers.md",sourceDirName:"overview",slug:"/overview/providers",permalink:"/docs/overview/providers",draft:!1,tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"Use Cases",permalink:"/docs/overview/usecase"},next:{title:"Repositories",permalink:"/docs/overview/repositories"}},l={},p=[{value:"Provider goal",id:"provider-goal",level:2},{value:"Example",id:"example",level:2},{value:"Provider implementation",id:"provider-implementation",level:3},{value:"Use case consuming the provider",id:"use-case-consuming-the-provider",level:3},{value:"Support the project",id:"support-the-project",level:2}],c={toc:p},d="wrapper";function m(e){let{components:t,...n}=e;return(0,a.kt)(d,(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"providers"},"Providers"),(0,a.kt)("p",null,"From the perspective of the ExpressoTS Architecture, ",(0,a.kt)("inlineCode",{parentName:"p"},"Providers")," are responsible for supplying data and/or mechanics to the application, abstracting the details of how the data/mechanic is actually implemented. This abstraction aligned with the Dependency Injection Container enables the developer to easily switch between different data sources/providers without affecting the other parts of the application as they are decoupled."),(0,a.kt)("p",null,"Providers can be implemented as classes or functions, and typically make use of infrastructure components such as databases, web services, or file systems to actually retrieve or store data and perform other tasks. A provider's goal is to encapsulate all the details of these low-level components and present a simple, high-level interface to the rest of the system."),(0,a.kt)("h2",{id:"provider-goal"},"Provider goal"),(0,a.kt)("p",null,'The goal of a Provider is to encapsulate all the details of the "replaceable" components and present a simple, high-level interface to the rest of the system.'),(0,a.kt)("p",null,"In the context of dependency injection, providers are used to decouple the creation and configuration of objects from their use, which allows for easier testing, maintainability, and scalability of the codebase. By using providers to manage dependencies, developers can avoid tightly coupling components together and instead focus on the high-level design of the system."),(0,a.kt)("p",null,"Overall, providers are an important aspect of clean code because they help to promote loose coupling, maintainability, and flexibility in software systems."),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"ExpressoTS uses providers to extend the application capability by providing additional functionalities.")),(0,a.kt)("h2",{id:"example"},"Example"),(0,a.kt)("p",null,"Let's take the example provided in the ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("a",{parentName:"strong",href:"/docs/overview/usecase#example"},"Use Case"))," section."),(0,a.kt)("p",null,"In this scenario, the user is attempting to log in to the system, and as per the specification, the user can attempt to input their credentials three times before the system locks their account. If the user's account is locked, the system dispatches an email to notify the user."),(0,a.kt)("p",null,"The email functionality is provided by a provider, which is used by the use case to send the email to the user. This provider is injected into the use case constructor, allowing the developer to leverage the provider's public interfaces."),(0,a.kt)("p",null,"One of the immediate benefits of using providers is that they facilitate easier testing, as the code is decoupled from the use cases, and a component can easily be replaced with another component that implements the same interface."),(0,a.kt)("h3",{id:"provider-implementation"},"Provider implementation"),(0,a.kt)("p",null,"Here is an example of provider implementation in ExpressoTS for sending emails:"),(0,a.kt)("p",null,"We are using ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("a",{parentName:"strong",href:"https://mailtrap.io/"},"Mailtrap"))," as our email provider and the nodemailer library to send emails."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},'import nodemailer from "nodemailer";\nimport Mail from "nodemailer/lib/mailer";\n\nconst enum EmailType {\n    Welcome = 0,\n    CreateUser,\n    ChangePassword,\n    Login,\n    RecoveryPassword\n}\n\n@provide(MailTrapProvider)\nclass MailTrapProvider {\n\n    private transporter: Mail;\n\n    constructor() {\n\n        this.transporter = nodemailer.createTransport({\n            host: Env.Mailtrap.HOST,\n            port: Env.Mailtrap.PORT,\n            auth: {\n                user: Env.Mailtrap.USERNAME,\n                pass: Env.Mailtrap.PASSWORD\n            }\n        });\n    }\n\n    private mailSender(message: IMessage): Promise<void> {\n        await this.transporter.sendMail({\n            to: {\n                name: message.to.name,\n                address: message.to.email\n            },\n            from: {\n                name: message.from.name,\n                address: message.from.email\n            },\n            subject: message.subject,\n            html: message.body\n        })\n    }\n\n    sendEmail(emailType: EmailType): Promise<void> {\n        switch (emailType) {\n            case EmailType.Login:\n                break;\n            case EmailType.Welcome:\n                break;\n            case EmailType.RecoveryPassword:\n                break;\n            case EmailType.ChangePassword:\n                break;\n            case EmailType.CreateUser:\n                this.MailSender({\n                    to: {\n                        name: "User",\n                        email: Env.Mailtrap.INBOX_ALIAS\n                    },\n                    from: {\n                        name: "ExpressoTS",\n                        email: "noreply@expresso-ts.com"\n                    },\n                    subject: "Successfully logged in!",\n                    body: "<h1>Welcome to the system!</h1>"\n                });\n                break;\n        }\n    }\n}\n\nexport { MailTrapProvider, EmailType };\n')),(0,a.kt)("p",null,"In this implementation there is an auxiliary private function and the single public interface called ",(0,a.kt)("inlineCode",{parentName:"p"},"sendEmail()")," that is going to be used in the use case.\nThe provider is injected in the constructor to be used by the use case."),(0,a.kt)("h3",{id:"use-case-consuming-the-provider"},"Use case consuming the provider"),(0,a.kt)("p",null,"Here is the use case implementation making use of the provider:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"@provide(LoginUserUseCase)\nclass LoginUserUseCase {\n\n  constructor(private mailTrapProvider?: MailTrapProvider) { }\n  \n  execute(payload: ILoginUserRequestDTO): boolean {\n    const { email, password } = payload;\n    \n    if (isAuthenticated(email, password)) {\n        return true;\n    }\n\n     // Implementation of the use case logic\n     mailTrapProvider?.sendEmail(EmailType.Login);\n    \n    return false;\n  }\n}\n\nexport { LoginUserUseCase };\n")),(0,a.kt)("p",null,"In the Use Case above we injected MailTrapProvider in the constructor making use of the ExpressoTS container. In the execute() method of the Use Case we are calling the ",(0,a.kt)("inlineCode",{parentName:"p"},"sendEmail()")," method of the provider to send an email to the user in case of a non successful login."),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"support-the-project"},"Support the project"),(0,a.kt)("p",null,"ExpressoTS is an MIT-licensed open source project. It's an independent project with ongoing development made possible thanks to your support. If you'd like to help, please consider:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Become a sponsor on ",(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("a",{parentName:"strong",href:"https://github.com/sponsors/expressots"},"Sponsor no GitHub"))),(0,a.kt)("li",{parentName:"ul"},"Follow the ",(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("a",{parentName:"strong",href:"https://github.com/expressots"},"organization"))," on GitHub and Star \u2b50 the project"),(0,a.kt)("li",{parentName:"ul"},"Subscribe to the Twitch channel: ",(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("a",{parentName:"strong",href:"https://www.twitch.tv/richardzampieri"},"Richard Zampieri"))),(0,a.kt)("li",{parentName:"ul"},"Join our ",(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("a",{parentName:"strong",href:"https://discord.com/invite/PyPJfGK"},"Discord"))),(0,a.kt)("li",{parentName:"ul"},"Contribute submitting ",(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("a",{parentName:"strong",href:"https://github.com/expressots/expressots/issues/new/choose"},"issues and pull requests"))),(0,a.kt)("li",{parentName:"ul"},"Share the project with your friends and colleagues")))}m.isMDXComponent=!0}}]);