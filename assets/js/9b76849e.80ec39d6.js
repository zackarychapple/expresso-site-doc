"use strict";(self.webpackChunkclassic=self.webpackChunkclassic||[]).push([[681],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),p=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return o.createElement(s.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=p(n),m=r,h=d["".concat(s,".").concat(m)]||d[m]||u[m]||a;return n?o.createElement(h,i(i({ref:t},c),{},{components:n})):o.createElement(h,i({ref:t},c))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:r,i[1]=l;for(var p=2;p<a;p++)i[p]=n[p];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},2833:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>l,toc:()=>p});var o=n(7462),r=(n(7294),n(3905));const a={sidebar_position:4},i="Modules",l={unversionedId:"overview/module",id:"overview/module",title:"Modules",description:"A module or container module is a collection of services, in our case more specifically Controllers and their dependencies that can be registered and resolved by ExpressoTS custom InversifyJS container wrapper.",source:"@site/docs/overview/module.md",sourceDirName:"overview",slug:"/overview/module",permalink:"/docs/overview/module",draft:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"App Container",permalink:"/docs/overview/app-container"},next:{title:"Controllers",permalink:"/docs/overview/controller"}},s={},p=[{value:"Module or container module",id:"module-or-container-module",level:2},{value:"Module Container",id:"module-container",level:2},{value:"Module scope",id:"module-scope",level:2},{value:"Support the project",id:"support-the-project",level:2}],c={toc:p},d="wrapper";function u(e){let{components:t,...n}=e;return(0,r.kt)(d,(0,o.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"modules"},"Modules"),(0,r.kt)("p",null,"A module or container module is a collection of services, in our case more specifically ",(0,r.kt)("inlineCode",{parentName:"p"},"Controllers")," and their dependencies that can be registered and resolved by ExpressoTS custom InversifyJS container wrapper."),(0,r.kt)("p",null,"A container module is a class that exports an Inversify Module object, which is essentially a configuration object that defines the bindings for the controllers. The Module object has a bind method that allows you to define bindings between services and their dependencies."),(0,r.kt)("p",null,"In order to fully understand how you can register your classes, such as usecases, entities, providers, repositories, helpers, etc, please read the ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/docs/overview/di"},"Dependency Injection"))," section. Essentially we have a group of decorators that overrides the default Container scope."),(0,r.kt)("h2",{id:"module-or-container-module"},"Module or container module"),(0,r.kt)("p",null,"With ExpressoTS you don't have to worry about doing bindings manually, we created a helper function called ",(0,r.kt)("inlineCode",{parentName:"p"},"CreateModule")," that receives an array of controllers and returns a module with all the controllers registered and their dependencies injected."),(0,r.kt)("h2",{id:"module-container"},"Module Container"),(0,r.kt)("p",null,"A container module is typically used to group related controllers and their dependencies together, making it easier to register and manage them in the container. For example, you could create a container module that defines the bindings for a set of data access controllers, or a set of business logic services."),(0,r.kt)("p",null,"Once a container module has been defined, it can be loaded into the ",(0,r.kt)("inlineCode",{parentName:"p"},"AppContainer")," using the ",(0,r.kt)("inlineCode",{parentName:"p"},"appContainer.create()")," method, which takes the container module class as an argument. Refer to the ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/docs/overview/app-container"},"App container"))," section for more information. This will register all services and dependencies defined in the module automatically, making them available for injection in other parts of your application."),(0,r.kt)("p",null,"Container modules can be a powerful tool for managing large applications with complex dependency graphs, as they allow you to organize your code into smaller, more manageable pieces, and make it easier to reason about the relationships between different parts of the application."),(0,r.kt)("p",null,"A container module or as we call simply module is defined in the example below:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"const AppModule = CreateModule([\n    AppController,\n]);\n\nexport { AppModule };\n")),(0,r.kt)("h2",{id:"module-scope"},"Module scope"),(0,r.kt)("p",null,"Very similar to the ",(0,r.kt)("inlineCode",{parentName:"p"},"Container"),", developers can set the scope of a module using the same ",(0,r.kt)("inlineCode",{parentName:"p"},"BindingScopeEnum")," enum. Here are the enum values:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"BindingScopeEnum.Singleton")," - The dependency will be created once and will be shared across all requests."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"BindingScopeEnum.Request")," - The dependency will be created once per request."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"BindingScopeEnum.Transient")," - The dependency will be created every time it is requested.")),(0,r.kt)("p",null,"When creating a module, you can pass the scope as a second argument to the ",(0,r.kt)("inlineCode",{parentName:"p"},"CreateModule")," function. It is optional and if not provided, the default scope is acquired from the ",(0,r.kt)("inlineCode",{parentName:"p"},"AppContainer")," which is ",(0,r.kt)("inlineCode",{parentName:"p"},"RequestScope"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"const AppModule = CreateModule(\n    [\n        AppController,\n    ],\n    BindingScopeEnum.Singleton,\n);\n")),(0,r.kt)("p",null,"This is a very handy feature as allows developers to create modules with different scopes. For example, you can create a module with the ",(0,r.kt)("inlineCode",{parentName:"p"},"Singleton")," scope and another module with the ",(0,r.kt)("inlineCode",{parentName:"p"},"Request")," scope. This is very useful when you have a module that contains services that needs to be shared across all requests and another module that contains services that needs to be created once per request."),(0,r.kt)("p",null,"Scope precedence is defined as follows: ",(0,r.kt)("inlineCode",{parentName:"p"},"AppContainer")," scope > ",(0,r.kt)("inlineCode",{parentName:"p"},"Module")," scope > ",(0,r.kt)("inlineCode",{parentName:"p"},"Controller")," scope."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"support-the-project"},"Support the project"),(0,r.kt)("p",null,"ExpressoTS is an MIT-licensed open source project. It's an independent project with ongoing development made possible thanks to your support. If you'd like to help, please consider:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Become a sponsor on ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("a",{parentName:"strong",href:"https://github.com/sponsors/expressots"},"Sponsor no GitHub"))),(0,r.kt)("li",{parentName:"ul"},"Follow the ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("a",{parentName:"strong",href:"https://github.com/expressots"},"organization"))," on GitHub and Star \u2b50 the project"),(0,r.kt)("li",{parentName:"ul"},"Subscribe to the Twitch channel: ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("a",{parentName:"strong",href:"https://www.twitch.tv/richardzampieri"},"Richard Zampieri"))),(0,r.kt)("li",{parentName:"ul"},"Join our ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("a",{parentName:"strong",href:"https://discord.com/invite/PyPJfGK"},"Discord"))),(0,r.kt)("li",{parentName:"ul"},"Contribute submitting ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("a",{parentName:"strong",href:"https://github.com/expressots/expressots/issues/new/choose"},"issues and pull requests"))),(0,r.kt)("li",{parentName:"ul"},"Share the project with your friends and colleagues")))}u.isMDXComponent=!0}}]);